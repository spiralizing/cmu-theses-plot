<!DOCTYPE html>
<html>

<head>
    <title>CMU Theses Semantic Map</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #FFFFF7;
            color: rgb(50, 50, 50);
            width: 100%;
            min-width: 1600px;
        }

        /* Header styling */
        .header {
            background-color: #FFFFF7;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            width: 100%;
        }

        .logo {
            height: 200px;
            width: auto;
        }

        /* Headline styling */
        .headline {
            text-align: center;
            padding: 2rem 0;
            font-size: 2.5em;
            font-weight: bold;
            color: rgb(50, 50, 50);
            background-color: #FFFFF7;
            margin: 0 auto;
            width: 100%;
        }

        /* Plot container */
        .plot-container {
            width: 1601px;
            height: 1200px;
            margin: 1rem auto;
            background-color: #FFFFF7;
        }

        .plot-container iframe {
            width: 100%;
            height: 100%;
            border: none;
            overflow: hidden;
            background-color: #FFFFF7;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Rest of your existing styles... */
        .description-box {
            background-color: #FFFFF7;
            margin: 1rem auto;
            padding: 2rem;
            width: 1600px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .description-box h1 {
            font-size: 2em;
            margin-bottom: 1rem;
            color: rgb(50, 50, 50);
        }

        .description-box h2 {
            font-size: 1.5em;
            margin-bottom: 0.8rem;
            color: rgb(50, 50, 50);
        }

        .description-box p,
        #description-content p {
            font-size: 1.1rem;
            line-height: 1.6;
            color: rgb(50, 50, 50);
        }

        #description-content {
            font-size: 1.1rem;
            line-height: 1.6;
        }

        /* Responsive design */
        @media (min-width: 1601px) {
            body {
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .header {
                width: 1600px;
            }

            .headline {
                width: 1600px;
            }
        }

        @media (max-width: 1600px) {
            body {
                overflow-x: auto;
            }
        }
    </style>
</head>

<body>
    <!-- Header with logos -->
    <div class="header">
        <img src="img/CMU_Libraries_logo.png" alt="CMU Libraries" class="logo">
        <img src="img/TRDA_logo.png" alt="TRDA" class="logo">
    </div>

    <!-- Added headline -->
    <div class="headline">
        Leveraging AI technology for knowledge exploration and discovery
    </div>

    <!-- Rest of your existing content... -->
    <div class="plot-container">
        <iframe src="web_viz.html" scrolling="no"></iframe>
    </div>

    <div class="description-box">
        <div id="description-content">
            # What am I looking at?

            This visualization shows a representation of all public graduate theses hosted in [KiltHub](https://kilthub.cmu.edu/).
            We extracted the abstract for each document and mapped it into a semantic representation of high dimensionality and reduced it into 2 dimensions.
            The plot demonstrates how thesis topics are distributed in a semantic space, with each point representing a
            thesis document and the distance between them represents their ['semantic proximity'](https://en.wikipedia.org/wiki/Semantic_similarity).
            <br>
            ## How to interact with the visualization

            Try:
            &nbsp;&nbsp;&nbsp; * Zooming in and out to separate topics
            &nbsp;&nbsp;&nbsp; * Hovering over the points to investigate their attributes:titles, colleges, and topics.
            &nbsp;&nbsp;&nbsp; * Clicking on colleges to remove or add them in the plot.
            <br>
            ## This way you can
            &nbsp;&nbsp;&nbsp; * Explore what problems have been explored by students across different colleges and topics.
            &nbsp;&nbsp;&nbsp; * Find topic regions with potential for new research and collaborations.
            &nbsp;&nbsp;&nbsp; * Identify interdisciplinary research areas.
            <br>
            ## How to Interpret the Visualization

            **Points**: Each point represents a thesis document embedded in a high-dimensional space and projected down to 2D

            **Clusters**: Groups of points represent semantically similar documents that share common research themes

            **Distance**: The closer two points are, the more semantically similar their content

            **Density**: Dense areas suggest well-established research fields, while sparse areas may indicate uncommon research fields or interdisciplinary and unexplored research areas
            <br>

            ## Technical Details

            **Feature Extraction**: Count vectorizer followed by Class-based TF-IDF transformation
            **Embedding Model**: `paraphrase-MiniLM-L6-v2` from [sentence-transformers](https://huggingface.co/sentence-transformers) to generate 384-dimensional embeddings of thesis descriptions
            **Clustering Method**: [HDBSCAN](https://hdbscan.readthedocs.io/en/latest/index.html) to assign points to clusters in the embbeding space
            **Dimensionality Reduction**: We used [UMAP](https://umap-learn.readthedocs.io/en/latest/) to reduce from 384 to 2 dimensions for visualization purposes


            <br>
            #### Acknowledgements
            The pipeline to build this visualization was developed using [BERTopic](https://maartengr.github.io/BERTopic/).
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.2.12/marked.min.js"></script>
    <script>
        window.addEventListener('load', function () {
            if (typeof marked === 'undefined') {
                console.error('marked.js not loaded');
                return;
            }

            try {
                const descriptionContent = document.getElementById('description-content');
                if (!descriptionContent) {
                    console.error('description-content element not found');
                    return;
                }

                marked.setOptions({
                    breaks: true,
                    gfm: true,
                    headerIds: true,
                    sanitize: false
                });

                const markdown = descriptionContent.innerHTML;
                const cleanMarkdown = markdown.trim()
                    .replace(/^\s+/gm, '')
                    .replace(/\n\s+/g, '\n');

                const parsedContent = marked.parse(cleanMarkdown);
                descriptionContent.innerHTML = parsedContent;
            } catch (error) {
                console.error('Error processing markdown:', error);
            }
        });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script>
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true
            }
        });
    </script>
</body>

</html>
